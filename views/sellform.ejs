<%-include('header')%>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
  integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
  crossorigin="anonymous"
/>

<div class="container py-5">
  <h1 class="my-5">Property Form</h1>

    <% if (messages.success) { %>               
      <div class="alert my-2 alert-success">
          <%= messages.success %>
      </div>     
      <% } %>

  <form
    action="/user/propertyDetails"
    method="post"
    class="needs-validation my-2 p-3 rounded-2 shadow-lg"
    enctype="multipart/form-data"
  >
    <div class="form-row">
      <div class="col-md-4 mb-3">
        <label for="validationTooltip01">project name</label>
        <input
          type="text"
          name="projectName"
          class="form-control"
          id="validationTooltip01"
          required
        />
      </div>
      <div class="col-md-4 mb-3">
        <label for="validationTooltip02">city</label>
        <select required name="city" class="form-control">
          <option hidden>select city</option>
          <%var citi= cities%> <% citi.forEach((s , j )=>{ %>
          <option value="<%=s.city%>"><%= s.city %></option>
          <% }) %>
        </select>
      </div>
      <div class="col-md-4 mb-3">
        <label for="validationTooltipUsername">price</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="validationTooltipUsernamePrepend"
              >â‚¹</span
            >
          </div>
          <input
            type="number"
            name="price"
            maxlength="10000000"
            class="form-control"
            id="validationTooltipUsername"
            aria-describedby="validationTooltipUsernamePrepend"
            required
          />
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="col-md-6 mb-3">
        <label for="validationTooltip03">Address</label>
        <input
          type="text"
          name="address"
          class="form-control"
          id="validationTooltip03"
          placeholder="City"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip04">property Life</label>
        <input
          type="text"
          name="propertyLife"
          class="form-control"
          id="validationTooltip04"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">property image</label>
        <input
          type="file"
          multiple
          name="property_image"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">size</label>
        <input
          type="text"
          name="size"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">carpet area</label>
        <input
          type="text"
          name="carpet_area"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">super built up</label>
        <input
          type="text"
          name="super_built_up"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">project area</label>
        <input
          type="text"
          name="project_area"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">booking amount</label>
        <input
          type="number"
          name="booking_amount"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">furnishing</label>
        <input
          type="text"
          name="furnishing"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">property floor</label>
        <input
          type="text"
          name="property_floor"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">landmark</label>
        <input
          type="text"
          name="landmark"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-6 mb-3">
        <label for="validationTooltip03">builder details</label>
        <input
          type="text"
          class="form-control"
          id="validationTooltip03"
          name="builder_details"
          required
        />
      </div>
      <div class="col-md-6 mb-3">
        <label for="validationTooltip03">owner info</label>
        <input
          type="text"
          class="form-control"
          id="validationTooltip03"
          name="owner_info"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">location</label>
        <input
          type="text"
          name="location"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">scale type</label>
        <input
          type="text"
          name="scale_type"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">disclaimer</label>
        <input
          type="text"
          name="disclaimer"
          class="form-control"
          id="validationTooltip05"
          required
          />
        </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">category</label>
        <select required class="form-control" name="category" id="">
          <option value="" hidden>select category</option>
          <option value="rent">For Rent</option>
          <option value="sell">For Sell</option>
        </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">house type</label>

        <select required name="house_type" class="form-control">
          <option hidden>select house</option>
          <option value="farm">farm</option>
          <option value="shop">shop</option>
          <option value="bungalow">bungalow</option>
          <option value="office">office</option>
          <option value="industrial">industrial</option>
          <option value="openplot">open plot</option>
          <option value="flat">flat</option>
          <option value="rowhouse">row house</option>
        </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">rooms</label>
        <select required name="rooms" class="form-control" required id="">
          <option value="" hidden>select rooms</option>
          <option value="1BHK">1 BHK</option>
          <option value="2BHK">2 BHK</option>
          <option value="3BHK">3 BHK</option>
          <option value="4BHK">4 BHK</option>
          <option value="5BHK">5 BHK</option>
          <option value="6BHK">6 BHK</option>
          <option value="7BHK">7 BHK and more</option>
        </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">facilities</label>
        <div class="d-flex">
          <input
            type="text"
            required
            disabled
            value="add facilities"
            class="form-control"
            id="validationTooltip05"
            required
            />
            <button
            type="button"
            onclick="addInput()"
            class="ms-2 d-inline-block btn btn-primary"
            >
            +
          </button>
        </div>
        <div id="input-cont">
          <!--Input container-->
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">built up area</label>
        <input
          type="text"
          name="built_up_area"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
    </div>
    <button class="btn btn-primary" type="submit">Submit form</button>
  </form>
</div>

<script>
  const container = document.getElementById("input-cont");

  // Call addInput() function on button click
  function addInput() {
    let inputs = document.createElement("input");
    inputs.placeholder = "Type something";
    inputs.className = "form-control my-1";
    inputs.name = "facilities";
    container.appendChild(inputs);
  }

  function validateNumberInput(input) {
    // Remove any non-digit characters from the input value
    var number = input.value.replace(/\D/g, "");

    // Update the input value with the cleaned number
    input.value = number;

    // Display validation message
    var validationMessage = document.getElementById("validationMessage");
    if (number === "") {
      validationMessage.textContent = "";
    } else {
      validationMessage.textContent = isNaN(number)
        ? "Invalid input. Only numbers are allowed."
        : "";
    }
  }
</script>
<%-include('footer')%>
