<%-include('header')%>

  <!-- <div class="container py-5">
  <h1 class="my-5">Property Form</h1>

  <% if (messages.success) { %>
  <div class="alert my-2 alert-success"><%= messages.success %></div>
  <% } %>

  <form
    action="/user/propertyDetails"
    method="post"
    class="needs-validation my-2 p-3 rounded-2 shadow-lg"
    enctype="multipart/form-data"
  >
    <div class="form-row">
      <div class="col-md-4 mb-3">
        <label for="validationTooltip01">project name</label>
        <input
          type="text"
          name="projectName"
          class="form-control"
          id="validationTooltip01"
          required
        />
      </div>
      <div class="col-md-4 mb-3">
        <label for="validationTooltip02">city</label>
        <select required name="city" class="form-control">
          <option hidden>select city</option>
          <%var citi= cities%> <% citi.forEach((s , j )=>{ %>
          <option value="<%=s.city%>"><%= s.city %></option>
          <% }) %>
        </select>
      </div>
      <div class="col-md-4 mb-3">
        <label for="validationTooltipUsername">price</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="validationTooltipUsernamePrepend"
              >â‚¹</span
            >
          </div>
          <input
            type="number"
            name="price"
            maxlength="10000000"
            class="form-control"
            id="validationTooltipUsername"
            aria-describedby="validationTooltipUsernamePrepend"
            required
          />
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="col-md-6 mb-3">
        <label for="validationTooltip03">Address</label>
        <input
          type="text"
          name="address"
          class="form-control"
          id="validationTooltip03"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip04">property Life</label>
       <select name="propertyLife" class="form-control" id="">
        <option value="" hidden>select propertyLife</option>
        <option value='Less than 1 year' >Less than 1 year</option>
        <option value='Less than 3 year' >Less than 3 year</option>
        <option value='Less than 5 year' >Less than 5 year</option>
        <option value='Less than 10 year' >Less than 10 year</option>
        <option value='More than 10 year' >More than 10 year</option>
       </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">property image</label>
        <input
          type="file"
          multiple
          name="property_image"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">size</label>
        <input
          type="text"
          name="size"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">carpet area</label>
        <input
          type="text"
          name="carpet_area"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">super built up</label>
        <input
          type="text"
          name="super_built_up"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">project area</label>
        <input
          type="text"
          name="project_area"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">booking amount</label>
        <input
          type="number"
          name="booking_amount"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">furnishing</label>
       <select name="furnishing" class="form-control" id="">
        <option value="Unfurnished">Unfurnished</option>
        <option value="Semi Furnished">Semi Furnished</option>
        <option value="Fully Furnished">Fully Furnished</option>
       </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">property floor</label>
        <input
          type="number"
          name="property_floor"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">landmark</label>
        <input
          type="text"
          name="landmark"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-6 mb-3">
        <label for="validationTooltip03">builder details</label>
        <input
          type="text"
          class="form-control"
          id="validationTooltip03"
          name="builder_details"
          required
        />
      </div>
      <div class="col-md-6 mb-3">
        <label for="validationTooltip03">owner info</label>
        <input
          type="text"
          class="form-control"
          id="validationTooltip03"
          name="owner_info"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">location</label>
        <input
          type="text"
          name="location"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">scale type</label>
        <input
          type="text"
          name="scale_type"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">disclaimer</label>
        <input
          type="text"
          name="disclaimer"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">category</label>
        <select required class="form-control" name="category" id="">
          <option value="" hidden>select category</option>
          <option value="rent">For Rent</option>
          <option value="sell">For Sell</option>
        </select>
      </div>
     
      
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">house type</label>
        
        <select required onchange="updateResidentOptions()" id="housetype" name="house_type" class="form-control">
          <option hidden>select house</option>
          <option value="FarmHouse">FarmHouse</option>
          <option value="Commercial">Commercial</option>
          <option value="Industrial">Industrial</option>
          <option value="Flat">Flat</option>
          <option value="Land/Plot">Land/Plot</option>
          <option value="House">House</option>
          <option value="Hotel/Resorts">Hotel/Resorts</option>
        </select>
      </div>
     
      <div class="col-md-3 mb-3" id="residents">
        <label for="validationTooltip05">Resident type</label>
        <select required class="form-control" name="residentType" id="resident">
        </select>
      </div>
     
     
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">rooms</label>
        <select required name="rooms" class="form-control" required id="">
          <option value="" hidden>select rooms</option>
          <option value="1BHK">1 BHK</option>
          <option value="2BHK">2 BHK</option>
          <option value="3BHK">3 BHK</option>
          <option value="4BHK">4 BHK</option>
          <option value="5BHK">5 BHK</option>
          <option value="6BHK">6 BHK</option>
          <option value="7BHK">7 BHK and more</option>
        </select>
      </div>
   
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">sale type</label>
        <select required name="saletype" class="form-control" required id="">
          <option value="" hidden>select sale type</option>
          <option value="New Properties">New Properties</option>
          <option value="Resale Properties">Resale Properties</option>
        </select>
      </div>
    
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">possession</label>
        <select required name="possession" class="form-control" required id="">
          <option value="" hidden>select possession</option>
          <option value="Ready to Move">Ready to Move</option>
          <option value="In 1 Year">In 1 Year</option>
          <option value="In 3 Years">In 3 Years</option>
          <option value="Beyond 3 Years">Beyond 3 Years</option>
        </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">facing</label>
        <select required name="facing" class="form-control" required id="">
          <option value="" hidden>select facing</option>
          <option value="North">North</option>
          <option value="East">East</option>
          <option value="West">West</option>
          <option value="South">South</option>
          <option value="North-East">North-East</option>
          <option value="North-West">North-West</option>
          <option value="South-East">South-East</option>
          <option value="South-West">South-West</option>   
        </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">bathroom</label>
        <select required name="bathroom" class="form-control" required id="">
          <option value="" hidden>select bathroom</option>
          <option value="1">1 bathroom</option>   
          <option value="2">2 bathroom</option>   
          <option value="3">3 bathroom</option>   
          <option value="4">4 bathroom</option>   
          <option value="5">5 bathroom</option>   
          <option value="6">6 bathroom</option>   
          <option value="7">7 bathroom</option>   
          <option value="8">8 bathroom</option>   
          <option value="9">9 bathroom</option>   
          <option value="10">10 bathroom</option>   
        </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">listed by</label>
        <select required name="listedby" class="form-control" required id="">
          <option value="" hidden>select listed by</option>   
          <option value="Agent">Agent</option>   
          <option value="Owner">Owner</option>   
        </select>
      </div>
     
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">least type</label>
        <select required name="leasttype" class="form-control" required id="">
          <option value="" hidden>select least type</option>   
          <option value="Family">Family</option>   
          <option value="Company">Company</option>   
          <option value="Bachelor">Bachelor</option>   
        </select>
      </div>
    
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">available</label>
        <select required name="available" class="form-control" required id="">
          <option value="" hidden>select available</option>   
          <option value="Within a week">Within a week</option>      
          <option value="Within 15 days">Within 15 days</option>      
          <option value="Within a month">Within a month</option>      
          <option value="After a month">After a month</option>      
        </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">powerbackup</label>
        <select required name="powerbackup" class="form-control" required id="">
          <option value="" hidden>select powerbackup</option>   
          <option value="Full" >Full</option>   
          <option value="Partial">Partial</option>   
        </select>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">pin code</label>
        <input type="text" class="form-control" placeholder="pin code" name="pincode">
      </div>



      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">facilities</label>
        <div class="d-flex">
          <input
            type="text"
            required
            disabled
            value="add facilities"
            class="form-control"
            id="validationTooltip05"
            required
          />
          <button
            type="button"
            onclick="addInput()"
            class="ms-2 d-inline-block btn btn-primary"
          >
            +
          </button>
        </div>
        <div id="input-cont">
          <!--Input container-->
  <!-- </div>
      </div>
      <div class="col-md-3 mb-3">
        <label for="validationTooltip05">built up area</label>
        <input
          type="text"
          name="built_up_area"
          class="form-control"
          id="validationTooltip05"
          required
        />
      </div>
    </div>
    <button class="btn btn-primary" type="submit">Submit form</button>
  </form>
</div> -->
  <!-- <script>
  const container = document.getElementById("input-cont")

  // Call addInput() function on button click
  function addInput() {
    let inputs = document.createElement("input")
    inputs.placeholder = "Type something"
    inputs.className = "form-control my-1"
    inputs.name = "facilities"
    container.appendChild(inputs)
  }

  function validateNumberInput(input) {
    // Remove any non-digit characters from the input value
    var number = input.value.replace(/\D/g, "");

    // Update the input value with the cleaned number
    input.value = number;

    // Display validation message
    var validationMessage = document.getElementById("validationMessage")
    if (number === "") {
      validationMessage.textContent = ""
    } else {
      validationMessage.textContent = isNaN(number)
        ? "Invalid input. Only numbers are allowed."
        : "";
    }
  }

  function updateResidentOptions() {
  console.log(document.getElementById('housetype').value)
  if (document.getElementById('housetype').value === "Flat") {

    const residentSelect = document.getElementById('resident')
    residentSelect.innerHTML = '';
    const options = ["LowRise", "HighRise", "pentHouse"]
    options.forEach(option => {
      const optionElement = document.createElement('option')
      optionElement.value = option.toLowerCase().replace(/\s/g, '_')
      optionElement.textContent = option;
      residentSelect.appendChild(optionElement);
    });

  } else if (document.getElementById('housetype').value === "House") {

const residentSelect = document.getElementById('resident')
residentSelect.innerHTML = '';
const options = ["Gala Type", "Raw House", "Bungalow"]
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

} else if (document.getElementById('housetype').value === "Commercial") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = ["Office", "Shop"];
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
else if (document.getElementById('housetype').value === "Industrial") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = ["Godown/Warehouse","Building"];
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
else if (document.getElementById('housetype').value === "FarmHouse") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = ["Farm","Villa"];
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
else if (document.getElementById('housetype').value === "Land/Plot") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = [
      'Residential Plot',
      'Industrial Plot',
      'Farm House Plot',
      'Agriculture Land',
      'Residential Land',
      'Industrial Land',
      'Commercial Land',
    ];
    
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
else if (document.getElementById('housetype').value === "Hotel/Resorts") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = [
    "1 Star",
    "2 Star",
    "3 Star",
    "4 Star",
    "5 Star",
    ];

options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
}


</script> -->

<% if (messages.success) { %>                 
 <div class="container">
  <div class="alert my-2 alert-success">
    <%= messages.success %>
</div>
 </div>
  <% } %>
  <section class="sellform container">
    <div class="">
      <div class="">
        <form class="form d-flex flex-column align-items-center" method="post" enctype="multipart/form-data" action="/user/basicdetails">
          <div class="text-center w-100">
            <h1 class="fs-1 fw-bold text-theme-blue mt-5">Property Details</h1>
          </div>
          <div class="col-lg- mt-4 d-flex flex-wrap">
            <div class="col-lg-6 p-2">
              <p class="mx-2">projectName</p>
              <input type="text" class=" m-2" name="projectName">
            </div> 
            <div class="col-lg-6 p-2">
              <p class="mx-2">Mobile</p>
              <input type="text" class="m-2" name="mobile">
            </div> 
            <div class="col-lg-6 p-2">
              <p class="mx-2">Address</p>
              <input type="text" class="m-2" name="location">
            </div> 
            <div class="col-lg-6 p-2">
              <p class="mx-2">Select House Type</p>
            <select class="m-2 w-100 border-1" name="house_type">
              <option hidden>House Type</option>
          <option value="FarmHouse">FarmHouse</option>
          <option value="Commercial">Commercial</option>
          <option value="Industrial">Industrial</option>
          <option value="Flat">Flat</option>
          <option value="Land/Plot">Land/Plot</option>
          <option value="House">House</option>
          <option value="Hotel/Resorts">Hotel/Resorts</option>
            </select>
          </div> 
          <div class="col-lg-6 p-2">
            <select name="city" class="m-2" id="">
              <option value="" hidden>city</option>
              <%for(var i of cities){%>
                <option value="<%=i.city%>"><%=i.city%></option>
                <%}%>
              </select>
            </div> 
          <div class="col-lg-6 p-2">
            <select required name="rooms" class="m-2" id="">
              <option value="" hidden>select rooms</option>
              <option value="1BHK">1 RK</option>
              <option value="1BHK">1 BHK</option>
              <option value="2BHK">2 BHK</option>
              <option value="3BHK">3+ BHK</option>
          </select>
            </div> 
          </div>
        </form>
      </div>
    </div>
  </section>
  <script>
    var next_click = document.querySelectorAll(".next_button");
    var main_form = document.querySelectorAll(".main");
    var step_list = document.querySelectorAll(".progress-bar li");
    var num = document.querySelector(".step-number");
    let formnumber = 0;

    next_click.forEach(function (next_click_form) {
      next_click_form.addEventListener("click", function () {
        if (!validateform()) {
          return false;
        }
        formnumber++;
        updateform();
        progress_forward();
        contentchange();
      })
    })

    var back_click = document.querySelectorAll(".back_button");
    back_click.forEach(function (back_click_form) {
      back_click_form.addEventListener("click", function () {
        formnumber--;
        updateform();
        progress_backward();
        contentchange();
      });
    });

    var username = document.querySelector("#user_name");
    var shownname = document.querySelector(".shown_name");

    var submit_click = document.querySelectorAll(".submit_button");
    submit_click.forEach(function (submit_click_form) {
      submit_click_form.addEventListener("click", function () {
        shownname.innerHTML = username.value;
        formnumber++;
        updateform()
      });
    });

    var heart = document.querySelector(".fa-heart");
    heart.addEventListener("click", function () {
      heart.classList.toggle("heart");
    });

    var share = document.querySelector(".fa-share-alt");
    share.addEventListener("click", function () {
      share.classList.toggle("share");
    });

    function updateform() {
      main_form.forEach(function (mainform_number) {
        mainform_number.classList.remove("active");
      });
      main_form[formnumber].classList.add("active");
    }

    function progress_forward() {
      // step_list.forEach(list => {

      //     list.classList.remove('active');

      // });

      num.innerHTML = formnumber + 1;
      step_list[formnumber].classList.add("active");
    }

    function progress_backward() {
      var form_num = formnumber + 1;
      step_list[form_num].classList.remove("active");
      num.innerHTML = form_num;
    }

    var step_num_content = document.querySelectorAll(".step-number-content");

    function contentchange() {
      step_num_content.forEach(function (content) {
        content.classList.remove("active");
        content.classList.add("d-none");
      });
      step_num_content[formnumber].classList.add("active");
    }

    function validateform() {
      validate = true;
      var validate_inputs = document.querySelectorAll(".main.active input");
      validate_inputs.forEach(function (vaildate_input) {
        vaildate_input.classList.remove("warning");
        if (vaildate_input.hasAttribute("require")) {
          if (vaildate_input.value.length == 0) {
            validate = false;
            vaildate_input.classList.add("warning");
          }
        }
      });
      return validate;
    }

    const uploadBox = document.getElementById("uploadBox");
    
    function image(){
      const fileInput = document.getElementById("fileInput");
      fileInput.click()
    }

    function updateResidentOptions() {
  console.log(document.getElementById('housetype').value)
  if (document.getElementById('housetype').value === "Flat") {

    const residentSelect = document.getElementById('resident')
    residentSelect.innerHTML = '';
    const options = ["LowRise", "HighRise", "pentHouse"]
    options.forEach(option => {
      const optionElement = document.createElement('option')
      optionElement.value = option.toLowerCase().replace(/\s/g, '_')
      optionElement.textContent = option;
      residentSelect.appendChild(optionElement);
    });

  } else if (document.getElementById('housetype').value === "House") {

const residentSelect = document.getElementById('resident')
residentSelect.innerHTML = '';
const options = ["Gala Type", "Raw House", "Bungalow"]
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

} else if (document.getElementById('housetype').value === "Commercial") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = ["Office", "Shop"];
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
else if (document.getElementById('housetype').value === "Industrial") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = ["Godown/Warehouse","Building"];
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
else if (document.getElementById('housetype').value === "FarmHouse") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = ["Farm","Villa"]
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
else if (document.getElementById('housetype').value === "Land/Plot") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = [
      'Residential Plot',
      'Industrial Plot',
      'Farm House Plot',
      'Agriculture Land',
      'Residential Land',
      'Industrial Land',
      'Commercial Land',
    ];
    
options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
else if (document.getElementById('housetype').value === "Hotel/Resorts") {

const residentSelect = document.getElementById('resident');
residentSelect.innerHTML = '';
const options = [
    "1 Star",
    "2 Star",
    "3 Star",
    "4 Star",
    "5 Star",
    ];

options.forEach(option => {
  const optionElement = document.createElement('option');
  optionElement.value = option.toLowerCase().replace(/\s/g, '_');
  optionElement.textContent = option;
  residentSelect.appendChild(optionElement);
});

}
}
  </script>

  <%-include('footer')%>